# 利用图神经网络预测无机材料的性能

## 1. 安装CGCNN软件

```shell
# 安装cgcnn并测试
# 准备工作
# 1. anaconda的安装 https://www.anaconda.com/
sh Anaconda3-2021.11-Linux-x86_64.sh

# 2.创建环境 name=cgcnn，并激活
conda create -n cgcnn python=3.6
conda activate cgcnn

# 3.安装对应版本的pytorch
# https://pytorch.org/get-started/locally/
# 下载CGCNN
git clone https://github.com/txie-93/cgcnn.git
# 或进入github下载zip

# 查看cgcnn文件结构
cd cgcnn-mater;ls
# 查看使用说明
python main.py -h
# 用样本数据集进行训练
python main.py --train-ratio 0.6 --val-ratio 0.2 --test-ratio 0.2 data/sample-regression
```

## 2. 数据集文件说明

```shell
# 查看数据集文件
cd data/sample-regression;ls
# 查看id_prop.csv
vim id_prop.csv
# 使用说明：只需要替换数据集文件，将数据集文件夹中的晶体cif文件替换，并替换为相应的id_prop.csv
# atom_init.json直接拷贝即可
```

## 3. 使用预训练模型预测

```shell
# python predict.py 预训练模型路径 数据集路径
python predict.py pre-trained/formation-energy-per-atom.pth.tar data/sample-regression
```

## 4. 查看训练结果

```shell
vim test_results.csv
#  cif_id true_value predict_value
```

